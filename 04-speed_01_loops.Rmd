# For Loops {#loops}

This is a topic that I wanted to discuss for a long time. People read blogs from 2014-2016 and assume that for loops in R are bad. You should not use

## data-types

### [[ are faster than [

```{r}
set_df_col <- function(dt){
  for(i in 1:1e4){
  dt$x[[i]] <- i*2
  }
}

set_dt_num <- function(dt){
  for(i in 1:1e4){
  data.table::set(
    x = dt,
    i = i,
    j = 1,
    value = i*2)
  }
}

set_dt_col <- function(dt){
  for(i in 1:1e4){
  data.table::set(
    x = dt,
    i = i,
    j = "x",
    value = i*2)
  }
}
```

## apply family

## Vectorize
